{"ast":null,"code":"import React from\"react\";import\"./forgot.css\";import{useParams}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResetPassword=()=>{const{email}=useParams();const decodedEmail=decodeURIComponent(email||\"\");const[password,setPassword]=React.useState(\"\");const[confirmPassword,setConfirmPassword]=React.useState(\"\");const[message,setMessage]=React.useState(\"\");const[error,setError]=React.useState(\"\");const handleClickConfirm=async e=>{e.preventDefault();const data={decodedEmail,password,confirmPassword};console.log(data);try{const response=await fetch(`${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/reset_forgotten_pwd.php`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});const result=await response.json();console.log(result);console.log(result[\"status\"]);if(result[\"status\"]===\"success\"){setMessage(String(result[\"message\"]));window.location.href=\"#/\";}else{setError(String(result[\"message\"]));}}catch(err){setError(\"Sorry, something went wrong. Please try again.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClickConfirm,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Enter your new password\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"label\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm your new password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Confirm\"}),[message&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:message}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error})]]})]})});};export default ResetPassword;","map":{"version":3,"names":["React","useParams","jsx","_jsx","jsxs","_jsxs","ResetPassword","email","decodedEmail","decodeURIComponent","password","setPassword","useState","confirmPassword","setConfirmPassword","message","setMessage","error","setError","handleClickConfirm","e","preventDefault","data","console","log","response","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","result","json","String","window","location","href","err","className","children","onSubmit","type","placeholder","value","onChange","target"],"sources":["C:/Users/ronzh/OneDrive/Desktop/CSE442/sp25-repo-playboys/frontend/src/login_screens/forgot/reset.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./forgot.css\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst ResetPassword: React.FC = () => \r\n{\r\n\tconst { email } = useParams<{ email: string }>();\r\n\tconst decodedEmail = decodeURIComponent( email || \"\" );\r\n\t\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = React.useState(\"\");\r\n    const [message, setMessage] = React.useState(\"\");\r\n    const [error, setError] = React.useState(\"\");\r\n    \r\n    const handleClickConfirm = async (e: React.FormEvent) => \r\n\t{\r\n\t\te.preventDefault();\r\n        const data = { decodedEmail, password, confirmPassword };\r\n        console.log( data );\r\n    \r\n        try\r\n        {\r\n            const response = await fetch( `${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/reset_forgotten_pwd.php`, \r\n\t\t\t{\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify( data ),\r\n            })\r\n\r\n            const result = await response.json();\r\n            console.log( result );\r\n            console.log( result[ \"status\" ] );\r\n\r\n            if( result[ \"status\" ] === \"success\" ) \r\n            {\r\n                setMessage( String( result[ \"message\" ] ) );\r\n\t\t\t\twindow.location.href = \"#/\"\r\n            }\r\n            else \r\n            {\r\n                setError( String( result[ \"message\" ] ) );\r\n            }\r\n        }\r\n        catch( err: any ) \r\n        {\r\n            setError( \"Sorry, something went wrong. Please try again.\" );\r\n        }\r\n    };\r\n    \r\n  return (\r\n    <div className=\"auth-container\">\r\n        <div className=\"login-box\">\r\n            <h2>Reset Password</h2>\r\n            <form onSubmit={ handleClickConfirm }>\r\n                <label>Password</label>\r\n                <input type=\"password\" placeholder=\"Enter your new password\" value={password} onChange={ ( e ) => setPassword( e.target.value ) }/>\r\n\t\t\t\t<label>Confirm Password</label>\r\n                <input type=\"password\" placeholder=\"Confirm your new password\" value={confirmPassword} onChange={ ( e ) => setConfirmPassword( e.target.value ) }/>\r\n                <button type=\"submit\">Confirm</button>\r\n                {[\r\n\t\t\t\t\tmessage && <p className=\"message\">{ message }</p>,\r\n\t\t\t\t\terror && <p className=\"error-message\">{ error }</p>\r\n\t\t\t\t]}\r\n            </form>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,cAAc,CACrB,OAASC,SAAS,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,aAAuB,CAAGA,CAAA,GAChC,CACC,KAAM,CAAEC,KAAM,CAAC,CAAGN,SAAS,CAAoB,CAAC,CAChD,KAAM,CAAAO,YAAY,CAAGC,kBAAkB,CAAEF,KAAK,EAAI,EAAG,CAAC,CAEnD,KAAM,CAACG,QAAQ,CAAEC,WAAW,CAAC,CAAGX,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGd,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,CAChE,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGhB,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACK,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,KAAK,CAACY,QAAQ,CAAC,EAAE,CAAC,CAE5C,KAAM,CAAAO,kBAAkB,CAAG,KAAO,CAAAC,CAAkB,EACvD,CACCA,CAAC,CAACC,cAAc,CAAC,CAAC,CACZ,KAAM,CAAAC,IAAI,CAAG,CAAEd,YAAY,CAAEE,QAAQ,CAAEG,eAAgB,CAAC,CACxDU,OAAO,CAACC,GAAG,CAAEF,IAAK,CAAC,CAEnB,GACA,CACI,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,oDAAoD,CAC3H,CACaC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACL,cAAc,CAAE,kBACpB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAEZ,IAAK,CAC/B,CAAC,CAAC,CAEF,KAAM,CAAAa,MAAM,CAAG,KAAM,CAAAV,QAAQ,CAACW,IAAI,CAAC,CAAC,CACpCb,OAAO,CAACC,GAAG,CAAEW,MAAO,CAAC,CACrBZ,OAAO,CAACC,GAAG,CAAEW,MAAM,CAAE,QAAQ,CAAG,CAAC,CAEjC,GAAIA,MAAM,CAAE,QAAQ,CAAE,GAAK,SAAS,CACpC,CACInB,UAAU,CAAEqB,MAAM,CAAEF,MAAM,CAAE,SAAS,CAAG,CAAE,CAAC,CACvDG,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,IAAI,CACnB,CAAC,IAED,CACItB,QAAQ,CAAEmB,MAAM,CAAEF,MAAM,CAAE,SAAS,CAAG,CAAE,CAAC,CAC7C,CACJ,CACA,MAAOM,GAAQ,CACf,CACIvB,QAAQ,CAAE,gDAAiD,CAAC,CAChE,CACJ,CAAC,CAEH,mBACEf,IAAA,QAAKuC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,cAC3BtC,KAAA,QAAKqC,SAAS,CAAC,WAAW,CAAAC,QAAA,eACtBxC,IAAA,OAAAwC,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBtC,KAAA,SAAMuC,QAAQ,CAAGzB,kBAAoB,CAAAwB,QAAA,eACjCxC,IAAA,UAAAwC,QAAA,CAAO,UAAQ,CAAO,CAAC,cACvBxC,IAAA,UAAO0C,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,yBAAyB,CAACC,KAAK,CAAErC,QAAS,CAACsC,QAAQ,CAAK5B,CAAC,EAAMT,WAAW,CAAES,CAAC,CAAC6B,MAAM,CAACF,KAAM,CAAG,CAAC,CAAC,cAC/I5C,IAAA,UAAAwC,QAAA,CAAO,kBAAgB,CAAO,CAAC,cACnBxC,IAAA,UAAO0C,IAAI,CAAC,UAAU,CAACC,WAAW,CAAC,2BAA2B,CAACC,KAAK,CAAElC,eAAgB,CAACmC,QAAQ,CAAK5B,CAAC,EAAMN,kBAAkB,CAAEM,CAAC,CAAC6B,MAAM,CAACF,KAAM,CAAG,CAAC,CAAC,cACnJ5C,IAAA,WAAQ0C,IAAI,CAAC,QAAQ,CAAAF,QAAA,CAAC,SAAO,CAAQ,CAAC,CACrC,CACZ5B,OAAO,eAAIZ,IAAA,MAAGuC,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAG5B,OAAO,CAAK,CAAC,CACjDE,KAAK,eAAId,IAAA,MAAGuC,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAG1B,KAAK,CAAK,CAAC,CACnD,EACa,CAAC,EACN,CAAC,CACL,CAAC,CAEV,CAAC,CAED,cAAe,CAAAX,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}