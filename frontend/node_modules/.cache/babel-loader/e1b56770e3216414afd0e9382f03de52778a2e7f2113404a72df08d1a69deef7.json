{"ast":null,"code":"import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function ProfileHeader(){const navigate=useNavigate();const[profile,setProfile]=useState(null);//created profile state to store the profile data, setProfile to update the profile data\nconst[error,setError]=useState(null);const fetchUserProfile=async()=>{try{const response=await fetch(`${process.env.REACT_APP_API_URL}backend/getProfile.php`,{method:\"GET\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"}});const result=await response.json();if(result.status===\"success\"){setProfile(result.profile);//set the profile data into the profile state\n}else{setError(result.message);navigate('/login');}}catch(err){setError(\"Failed to fetch profile data.\");console.error(\"‚ö†Ô∏è Error:\",err);}};useEffect(()=>{fetchUserProfile();},[]);// Fetch profile when component mounts\nconst handleEditProfile=()=>{navigate('/edit-profile');};return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(\"img\",{src:\"./static/ProfilePlaceholder.png\",alt:\"Profile\",className:\"img-fluid rounded-circle mt-3\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column align-items-start font-weight-bold text-dark\",children:profile?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-4\",style:{fontSize:\"4rem\",fontWeight:\"bold\"},children:profile.username}),/*#__PURE__*/_jsxs(\"h2\",{className:\"mt-3\",style:{fontSize:\"2rem\"},children:[\"@\",profile.username]}),/*#__PURE__*/_jsxs(\"p\",{className:\"h4 mt-3\",children:[profile.friends,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Friends \"}),profile.followers,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Followers \"}),profile.followings,\" \",/*#__PURE__*/_jsx(\"span\",{children:\"Following\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary btn-lg mt-4 px-5\",onClick:handleEditProfile,children:\"\\uD83D\\uDD8B\\uFE0F Edit Profile\"})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-danger mt-3\",children:error||\"Loading...\"})})})]});}export default ProfileHeader;","map":{"version":3,"names":["useState","useEffect","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProfileHeader","navigate","profile","setProfile","error","setError","fetchUserProfile","response","fetch","process","env","REACT_APP_API_URL","method","credentials","headers","result","json","status","message","err","console","handleEditProfile","className","children","src","alt","style","fontSize","fontWeight","username","friends","followers","followings","onClick"],"sources":["C:/Users/rico/Documents/GitHub/sp25-repo-playboys/frontend/src/user_profile/ProfileHeader.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction ProfileHeader() {\r\n    const navigate = useNavigate();\r\n    const [profile, setProfile] = useState<any>(null); //created profile state to store the profile data, setProfile to update the profile data\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const fetchUserProfile = async () => {\r\n        try {\r\n            const response = await fetch(`${process.env.REACT_APP_API_URL}backend/getProfile.php`, {\r\n                method: \"GET\",\r\n                credentials: \"include\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n            });\r\n\r\n            const result = await response.json();\r\n\r\n            if (result.status === \"success\") {\r\n                setProfile(result.profile); //set the profile data into the profile state\r\n            } else {\r\n                setError(result.message);\r\n                navigate('/login');\r\n\r\n            }\r\n        } catch (err) {\r\n            setError(\"Failed to fetch profile data.\");\r\n            console.error(\"‚ö†Ô∏è Error:\", err);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchUserProfile();\r\n    }, []); // Fetch profile when component mounts\r\n\r\n    const handleEditProfile = () => {\r\n        navigate('/edit-profile');\r\n    };\r\n\r\n    return (\r\n        <div className=\"row\">\r\n            <div className=\"col-md-4\">\r\n                <img\r\n                    src=\"./static/ProfilePlaceholder.png\"\r\n                    alt=\"Profile\"\r\n                    className=\"img-fluid rounded-circle mt-3\"\r\n                />\r\n            </div>\r\n            <div className=\"col-md-8\">\r\n                <div className=\"d-flex flex-column align-items-start font-weight-bold text-dark\">\r\n                    {profile ? (\r\n                        <>\r\n                            <h1 className=\"display-4\" style={{ fontSize: \"4rem\", fontWeight: \"bold\" }}>\r\n                                {profile.username}\r\n                            </h1>\r\n                            <h2 className=\"mt-3\" style={{ fontSize: \"2rem\" }}>@{profile.username}</h2>\r\n                            <p className=\"h4 mt-3\">\r\n                                {profile.friends} <span>Friends </span>\r\n                                {profile.followers} <span>Followers </span>\r\n                                {profile.followings} <span>Following</span>\r\n                            </p>\r\n                            <button className=\"btn btn-secondary btn-lg mt-4 px-5\" onClick={handleEditProfile}>\r\n                                üñãÔ∏è Edit Profile\r\n                            </button>\r\n                        </>\r\n                    ) : (\r\n                        <p className=\"text-danger mt-3\">{error || \"Loading...\"}</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileHeader;\r\n\r\n\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE/C,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACrB,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAM,IAAI,CAAC,CAAE;AACnD,KAAM,CAACa,KAAK,CAAEC,QAAQ,CAAC,CAAGd,QAAQ,CAAgB,IAAI,CAAC,CAEvD,KAAM,CAAAe,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACjC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,wBAAwB,CAAE,CACnFC,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAClD,CAAC,CAAC,CAEF,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAEpC,GAAID,MAAM,CAACE,MAAM,GAAK,SAAS,CAAE,CAC7Bd,UAAU,CAACY,MAAM,CAACb,OAAO,CAAC,CAAE;AAChC,CAAC,IAAM,CACHG,QAAQ,CAACU,MAAM,CAACG,OAAO,CAAC,CACxBjB,QAAQ,CAAC,QAAQ,CAAC,CAEtB,CACJ,CAAE,MAAOkB,GAAG,CAAE,CACVd,QAAQ,CAAC,+BAA+B,CAAC,CACzCe,OAAO,CAAChB,KAAK,CAAC,WAAW,CAAEe,GAAG,CAAC,CACnC,CACJ,CAAC,CAED3B,SAAS,CAAC,IAAM,CACZc,gBAAgB,CAAC,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,KAAM,CAAAe,iBAAiB,CAAGA,CAAA,GAAM,CAC5BpB,QAAQ,CAAC,eAAe,CAAC,CAC7B,CAAC,CAED,mBACIJ,KAAA,QAAKyB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAChB5B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACrB5B,IAAA,QACI6B,GAAG,CAAC,iCAAiC,CACrCC,GAAG,CAAC,SAAS,CACbH,SAAS,CAAC,+BAA+B,CAC5C,CAAC,CACD,CAAC,cACN3B,IAAA,QAAK2B,SAAS,CAAC,UAAU,CAAAC,QAAA,cACrB5B,IAAA,QAAK2B,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAC3ErB,OAAO,cACJL,KAAA,CAAAE,SAAA,EAAAwB,QAAA,eACI5B,IAAA,OAAI2B,SAAS,CAAC,WAAW,CAACI,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAAL,QAAA,CACrErB,OAAO,CAAC2B,QAAQ,CACjB,CAAC,cACLhC,KAAA,OAAIyB,SAAS,CAAC,MAAM,CAACI,KAAK,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAJ,QAAA,EAAC,GAAC,CAACrB,OAAO,CAAC2B,QAAQ,EAAK,CAAC,cAC1EhC,KAAA,MAAGyB,SAAS,CAAC,SAAS,CAAAC,QAAA,EACjBrB,OAAO,CAAC4B,OAAO,CAAC,GAAC,cAAAnC,IAAA,SAAA4B,QAAA,CAAM,UAAQ,CAAM,CAAC,CACtCrB,OAAO,CAAC6B,SAAS,CAAC,GAAC,cAAApC,IAAA,SAAA4B,QAAA,CAAM,YAAU,CAAM,CAAC,CAC1CrB,OAAO,CAAC8B,UAAU,CAAC,GAAC,cAAArC,IAAA,SAAA4B,QAAA,CAAM,WAAS,CAAM,CAAC,EAC5C,CAAC,cACJ5B,IAAA,WAAQ2B,SAAS,CAAC,oCAAoC,CAACW,OAAO,CAAEZ,iBAAkB,CAAAE,QAAA,CAAC,iCAEnF,CAAQ,CAAC,EACX,CAAC,cAEH5B,IAAA,MAAG2B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAAEnB,KAAK,EAAI,YAAY,CAAI,CAC7D,CACA,CAAC,CACL,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAJ,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}