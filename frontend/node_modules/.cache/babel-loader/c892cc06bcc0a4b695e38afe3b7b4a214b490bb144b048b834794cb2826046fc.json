{"ast":null,"code":"import React from\"react\";import\"./Settings.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const options=[{name:\"Theme & Appearance\",icon:\"🎨\",path:\"settings/app_support/theme_appearance\"},{name:\"Language\",icon:\"🌍\",path:\"settings/app_support/language\"},{name:\"Help Center\",icon:\"❓\",path:\"settings/app_support/help_center\"},{name:\"Report a Problem\",icon:\"⚠️\",path:\"settings/app_support/report_problem\"},{name:\"Log Out\",icon:\"🚪\",path:\"logout\"}// \"logout\" to trigger API call\n];const SettingsApplication=()=>{const handleOptionClick=async selectedPath=>{if(selectedPath===\"logout\"){try{const response=await fetch(\"/api/logout\",{method:\"POST\",credentials:\"include\",headers:{\"Content-Type\":\"application/json\"}});const data=await response.json();// Parse JSON response\nif(data.status===\"success\"){localStorage.removeItem(\"auth_token\");sessionStorage.removeItem(\"auth_token\");alert(data.message||\"Logout successful.\");window.location.href=\"#/login\";// Redirect to login\n}else{alert(data.error||\"Error logging out\");localStorage.removeItem(\"auth_token\");sessionStorage.removeItem(\"auth_token\");window.location.href=\"#/login\";// Redirect to login\n}}catch(error){console.error(\"Error logging out:\",error);alert(\"An error occurred. Please try again.\");}}else{window.location.href=`#/${selectedPath}`;}};return/*#__PURE__*/_jsx(\"div\",{className:\"settings-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"settings-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-icon\",children:\"\\u2630\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Settings-Account\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:()=>window.location.href=\"#/settings\",children:\"\\uD83D\\uDD19\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"option-container\",children:options.map((option,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"option-button\",onClick:()=>handleOptionClick(option.path),children:/*#__PURE__*/_jsxs(\"div\",{className:\"option-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"icon\",children:option.icon}),/*#__PURE__*/_jsx(\"p\",{children:option.name})]})},index))})]})});};export default SettingsApplication;","map":{"version":3,"names":["React","jsx","_jsx","jsxs","_jsxs","options","name","icon","path","SettingsApplication","handleOptionClick","selectedPath","response","fetch","method","credentials","headers","data","json","status","localStorage","removeItem","sessionStorage","alert","message","window","location","href","error","console","className","children","onClick","map","option","index"],"sources":["C:/Users/rico/Documents/GitHub/sp25-repo-playboys/frontend/src/Settings/Applicaton.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./Settings.css\";\r\n\r\nconst options = [\r\n  { name: \"Theme & Appearance\", icon: \"🎨\", path: \"settings/app_support/theme_appearance\" },\r\n  { name: \"Language\", icon: \"🌍\", path: \"settings/app_support/language\" },\r\n  { name: \"Help Center\", icon: \"❓\", path: \"settings/app_support/help_center\" },\r\n  { name: \"Report a Problem\", icon: \"⚠️\", path: \"settings/app_support/report_problem\" },\r\n  { name: \"Log Out\", icon: \"🚪\", path: \"logout\" } // \"logout\" to trigger API call\r\n];\r\n\r\nconst SettingsApplication = () => {\r\n  const handleOptionClick = async (selectedPath: string) => {\r\n    if (selectedPath === \"logout\") {\r\n      try {\r\n        const response = await fetch(\"/api/logout\", { \r\n          method: \"POST\", \r\n          credentials: \"include\", \r\n          headers: { \"Content-Type\": \"application/json\" } \r\n        });\r\n  \r\n        const data = await response.json(); // Parse JSON response\r\n  \r\n        if (data.status === \"success\") {\r\n          localStorage.removeItem(\"auth_token\");\r\n          sessionStorage.removeItem(\"auth_token\");\r\n          alert(data.message || \"Logout successful.\");\r\n          window.location.href = \"#/login\"; // Redirect to login\r\n        } else {\r\n          alert(data.error || \"Error logging out\");\r\n          localStorage.removeItem(\"auth_token\");\r\n          sessionStorage.removeItem(\"auth_token\");\r\n          window.location.href = \"#/login\"; // Redirect to login\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error logging out:\", error);\r\n        alert(\"An error occurred. Please try again.\");\r\n      }\r\n    } else {\r\n      window.location.href = `#/${selectedPath}`;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"settings-page\">\r\n      <div className=\"settings-container\">\r\n        <div className=\"settings-header\">\r\n          <div className=\"header-text\">\r\n            <span className=\"menu-icon\">☰</span>\r\n            <span>Settings-Account</span>\r\n          </div>\r\n          <button className=\"back-button\" onClick={() => window.location.href = \"#/settings\"}>\r\n            🔙\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"option-container\">\r\n          {options.map((option, index) => (\r\n            <button\r\n              key={index}\r\n              className=\"option-button\"\r\n              onClick={() => handleOptionClick(option.path)}\r\n            >\r\n              <div className=\"option-card\">\r\n                <div className=\"icon\">{option.icon}</div>\r\n                <p>{option.name}</p>\r\n              </div>\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SettingsApplication;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExB,KAAM,CAAAC,OAAO,CAAG,CACd,CAAEC,IAAI,CAAE,oBAAoB,CAAEC,IAAI,CAAE,IAAI,CAAEC,IAAI,CAAE,uCAAwC,CAAC,CACzF,CAAEF,IAAI,CAAE,UAAU,CAAEC,IAAI,CAAE,IAAI,CAAEC,IAAI,CAAE,+BAAgC,CAAC,CACvE,CAAEF,IAAI,CAAE,aAAa,CAAEC,IAAI,CAAE,GAAG,CAAEC,IAAI,CAAE,kCAAmC,CAAC,CAC5E,CAAEF,IAAI,CAAE,kBAAkB,CAAEC,IAAI,CAAE,IAAI,CAAEC,IAAI,CAAE,qCAAsC,CAAC,CACrF,CAAEF,IAAI,CAAE,SAAS,CAAEC,IAAI,CAAE,IAAI,CAAEC,IAAI,CAAE,QAAS,CAAE;AAAA,CACjD,CAED,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAC,YAAoB,EAAK,CACxD,GAAIA,YAAY,GAAK,QAAQ,CAAE,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,aAAa,CAAE,CAC1CC,MAAM,CAAE,MAAM,CACdC,WAAW,CAAE,SAAS,CACtBC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAAE;AAEpC,GAAID,IAAI,CAACE,MAAM,GAAK,SAAS,CAAE,CAC7BC,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC,CACrCC,cAAc,CAACD,UAAU,CAAC,YAAY,CAAC,CACvCE,KAAK,CAACN,IAAI,CAACO,OAAO,EAAI,oBAAoB,CAAC,CAC3CC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,SAAS,CAAE;AACpC,CAAC,IAAM,CACLJ,KAAK,CAACN,IAAI,CAACW,KAAK,EAAI,mBAAmB,CAAC,CACxCR,YAAY,CAACC,UAAU,CAAC,YAAY,CAAC,CACrCC,cAAc,CAACD,UAAU,CAAC,YAAY,CAAC,CACvCI,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,SAAS,CAAE;AACpC,CACF,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,oBAAoB,CAAEA,KAAK,CAAC,CAC1CL,KAAK,CAAC,sCAAsC,CAAC,CAC/C,CACF,CAAC,IAAM,CACLE,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,KAAKhB,YAAY,EAAE,CAC5C,CACF,CAAC,CAED,mBACET,IAAA,QAAK4B,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B3B,KAAA,QAAK0B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC3B,KAAA,QAAK0B,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9B3B,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,SAAM4B,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,cACpC7B,IAAA,SAAA6B,QAAA,CAAM,kBAAgB,CAAM,CAAC,EAC1B,CAAC,cACN7B,IAAA,WAAQ4B,SAAS,CAAC,aAAa,CAACE,OAAO,CAAEA,CAAA,GAAMP,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,YAAa,CAAAI,QAAA,CAAC,cAEpF,CAAQ,CAAC,EACN,CAAC,cAEN7B,IAAA,QAAK4B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,CAC9B1B,OAAO,CAAC4B,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACzBjC,IAAA,WAEE4B,SAAS,CAAC,eAAe,CACzBE,OAAO,CAAEA,CAAA,GAAMtB,iBAAiB,CAACwB,MAAM,CAAC1B,IAAI,CAAE,CAAAuB,QAAA,cAE9C3B,KAAA,QAAK0B,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B7B,IAAA,QAAK4B,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAEG,MAAM,CAAC3B,IAAI,CAAM,CAAC,cACzCL,IAAA,MAAA6B,QAAA,CAAIG,MAAM,CAAC5B,IAAI,CAAI,CAAC,EACjB,CAAC,EAPD6B,KAQC,CACT,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA1B,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}