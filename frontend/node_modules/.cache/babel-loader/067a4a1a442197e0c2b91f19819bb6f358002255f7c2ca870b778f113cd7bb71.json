{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ronzh\\\\OneDrive\\\\Desktop\\\\CSE442\\\\sp25-repo-playboys\\\\frontend\\\\src\\\\login_screens\\\\forgot\\\\reset.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"./forgot.css\";\nimport { useParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ResetPassword = () => {\n  _s();\n  const {\n    email\n  } = useParams();\n  const decodedEmail = decodeURIComponent(email || \"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [confirmPassword, setConfirmPassword] = React.useState(\"\");\n  const [message, setMessage] = React.useState(\"\");\n  const [error, setError] = React.useState(\"\");\n  const handleClickConfirm = async e => {\n    e.preventDefault();\n    const data = {\n      decodedEmail,\n      password,\n      confirmPassword\n    };\n    console.log(data);\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/reset_forgotten_pwd.php`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      });\n      const result = await response.json();\n      console.log(result);\n      console.log(result[\"status\"]);\n      if (result[\"status\"] === \"success\") {\n        setMessage(String(result[\"message\"]));\n        window.location.href = \"#/\";\n      } else {\n        setError(String(result[\"message\"]));\n      }\n    } catch (err) {\n      setError(\"Sorry, something went wrong. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Reset Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleClickConfirm,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Enter your new password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Confirm your new password\",\n          value: confirmPassword,\n          onChange: e => setConfirmPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this), [message && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 17\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 15\n        }, this)]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(ResetPassword, \"8RGbu3VS/33UO4947wPZGPYv+6o=\", false, function () {\n  return [useParams];\n});\n_c = ResetPassword;\nexport default ResetPassword;\nvar _c;\n$RefreshReg$(_c, \"ResetPassword\");","map":{"version":3,"names":["React","useParams","jsxDEV","_jsxDEV","ResetPassword","_s","email","decodedEmail","decodeURIComponent","password","setPassword","useState","confirmPassword","setConfirmPassword","message","setMessage","error","setError","handleClickConfirm","e","preventDefault","data","console","log","response","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","result","json","String","window","location","href","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/ronzh/OneDrive/Desktop/CSE442/sp25-repo-playboys/frontend/src/login_screens/forgot/reset.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./forgot.css\";\r\nimport { useParams } from \"react-router-dom\";\r\n\r\nconst ResetPassword: React.FC = () => \r\n{\r\n\tconst { email } = useParams<{ email: string }>();\r\n\tconst decodedEmail = decodeURIComponent( email || \"\" );\r\n\t\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = React.useState(\"\");\r\n    const [message, setMessage] = React.useState(\"\");\r\n    const [error, setError] = React.useState(\"\");\r\n    \r\n    const handleClickConfirm = async (e: React.FormEvent) => \r\n\t{\r\n\t\te.preventDefault();\r\n        const data = { decodedEmail, password, confirmPassword };\r\n        console.log( data );\r\n    \r\n        try\r\n        {\r\n            const response = await fetch( `${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/reset_forgotten_pwd.php`, \r\n\t\t\t{\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify( data ),\r\n            })\r\n\r\n            const result = await response.json();\r\n            console.log( result );\r\n            console.log( result[ \"status\" ] );\r\n\r\n            if( result[ \"status\" ] === \"success\" ) \r\n            {\r\n                setMessage( String( result[ \"message\" ] ) );\r\n\t\t\t\twindow.location.href = \"#/\"\r\n            }\r\n            else \r\n            {\r\n                setError( String( result[ \"message\" ] ) );\r\n            }\r\n        }\r\n        catch( err: any ) \r\n        {\r\n            setError( \"Sorry, something went wrong. Please try again.\" );\r\n        }\r\n    };\r\n    \r\n  return (\r\n    <div className=\"auth-container\">\r\n        <div className=\"login-box\">\r\n            <h2>Reset Password</h2>\r\n            <form onSubmit={ handleClickConfirm }>\r\n                <label>Password</label>\r\n                <input type=\"password\" placeholder=\"Enter your new password\" value={password} onChange={ ( e ) => setPassword( e.target.value ) }/>\r\n\t\t\t\t<label>Confirm Password</label>\r\n                <input type=\"password\" placeholder=\"Confirm your new password\" value={confirmPassword} onChange={ ( e ) => setConfirmPassword( e.target.value ) }/>\r\n                <button type=\"submit\">Confirm</button>\r\n                {[\r\n\t\t\t\t\tmessage && <p className=\"message\">{ message }</p>,\r\n\t\t\t\t\terror && <p className=\"error-message\">{ error }</p>\r\n\t\t\t\t]}\r\n            </form>\r\n        </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,cAAc;AACrB,SAASC,SAAS,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,aAAuB,GAAGA,CAAA,KAChC;EAAAC,EAAA;EACC,MAAM;IAAEC;EAAM,CAAC,GAAGL,SAAS,CAAoB,CAAC;EAChD,MAAMM,YAAY,GAAGC,kBAAkB,CAAEF,KAAK,IAAI,EAAG,CAAC;EAEnD,MAAM,CAACG,QAAQ,EAAEC,WAAW,CAAC,GAAGV,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGb,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC;EAChE,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGf,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,KAAK,CAACW,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAMO,kBAAkB,GAAG,MAAOC,CAAkB,IACvD;IACCA,CAAC,CAACC,cAAc,CAAC,CAAC;IACZ,MAAMC,IAAI,GAAG;MAAEd,YAAY;MAAEE,QAAQ;MAAEG;IAAgB,CAAC;IACxDU,OAAO,CAACC,GAAG,CAAEF,IAAK,CAAC;IAEnB,IACA;MACI,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,oDAAoD,EAC3H;QACaC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAEZ,IAAK;MAC/B,CAAC,CAAC;MAEF,MAAMa,MAAM,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;MACpCb,OAAO,CAACC,GAAG,CAAEW,MAAO,CAAC;MACrBZ,OAAO,CAACC,GAAG,CAAEW,MAAM,CAAE,QAAQ,CAAG,CAAC;MAEjC,IAAIA,MAAM,CAAE,QAAQ,CAAE,KAAK,SAAS,EACpC;QACInB,UAAU,CAAEqB,MAAM,CAAEF,MAAM,CAAE,SAAS,CAAG,CAAE,CAAC;QACvDG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,IAAI;MACnB,CAAC,MAED;QACItB,QAAQ,CAAEmB,MAAM,CAAEF,MAAM,CAAE,SAAS,CAAG,CAAE,CAAC;MAC7C;IACJ,CAAC,CACD,OAAOM,GAAQ,EACf;MACIvB,QAAQ,CAAE,gDAAiD,CAAC;IAChE;EACJ,CAAC;EAEH,oBACEd,OAAA;IAAKsC,SAAS,EAAC,gBAAgB;IAAAC,QAAA,eAC3BvC,OAAA;MAAKsC,SAAS,EAAC,WAAW;MAAAC,QAAA,gBACtBvC,OAAA;QAAAuC,QAAA,EAAI;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvB3C,OAAA;QAAM4C,QAAQ,EAAG7B,kBAAoB;QAAAwB,QAAA,gBACjCvC,OAAA;UAAAuC,QAAA,EAAO;QAAQ;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACvB3C,OAAA;UAAO6C,IAAI,EAAC,UAAU;UAACC,WAAW,EAAC,yBAAyB;UAACC,KAAK,EAAEzC,QAAS;UAAC0C,QAAQ,EAAKhC,CAAC,IAAMT,WAAW,CAAES,CAAC,CAACiC,MAAM,CAACF,KAAM;QAAG;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eAC/I3C,OAAA;UAAAuC,QAAA,EAAO;QAAgB;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACnB3C,OAAA;UAAO6C,IAAI,EAAC,UAAU;UAACC,WAAW,EAAC,2BAA2B;UAACC,KAAK,EAAEtC,eAAgB;UAACuC,QAAQ,EAAKhC,CAAC,IAAMN,kBAAkB,CAAEM,CAAC,CAACiC,MAAM,CAACF,KAAM;QAAG;UAAAP,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAC,CAAC,eACnJ3C,OAAA;UAAQ6C,IAAI,EAAC,QAAQ;UAAAN,QAAA,EAAC;QAAO;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,EACrC,CACZhC,OAAO,iBAAIX,OAAA;UAAGsC,SAAS,EAAC,SAAS;UAAAC,QAAA,EAAG5B;QAAO;UAAA6B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,EACjD9B,KAAK,iBAAIb,OAAA;UAAGsC,SAAS,EAAC,eAAe;UAAAC,QAAA,EAAG1B;QAAK;UAAA2B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAK,CAAC,CACnD;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACa,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV,CAAC;AAACzC,EAAA,CAjEID,aAAuB;EAAA,QAEVH,SAAS;AAAA;AAAAoD,EAAA,GAFtBjD,aAAuB;AAmE7B,eAAeA,aAAa;AAAC,IAAAiD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}