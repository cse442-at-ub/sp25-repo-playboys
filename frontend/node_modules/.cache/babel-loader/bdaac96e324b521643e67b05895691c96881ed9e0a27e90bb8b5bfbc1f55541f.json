{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ronzh\\\\OneDrive\\\\Desktop\\\\CSE442\\\\sp25-repo-playboys\\\\frontend\\\\src\\\\login_screens\\\\forgot\\\\forgot.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport \"./forgot.css\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ForgotPassword = () => {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = React.useState(\"\");\n  const [emailFieldMessage, setEmailFieldMessage] = React.useState(\"\");\n  const [emailFieldError, setEmailFieldError] = React.useState(\"\");\n  const [code, setCode] = React.useState(\"\");\n  const [codeFieldMessage, setCodeFieldMessage] = React.useState(\"\");\n  const [codeFieldError, setCodeFieldError] = React.useState(\"\");\n  const handleClickSend = async e => {\n    e.preventDefault();\n    const data = {\n      email\n    };\n    console.log(data);\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/send_forgot_pwd_email.php`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      });\n      const result = await response.json();\n      console.log(result);\n      console.log(result[\"status\"]);\n      if (result[\"status\"] === \"success\") {\n        setEmailFieldMessage(String(result[\"message\"]));\n      } else {\n        setEmailFieldError(String(result[\"message\"]));\n      }\n    } catch (err) {\n      setEmailFieldError(\"Sorry, something went wrong. Please try again.\");\n    }\n  };\n  const handleClickVerify = async e => {\n    e.preventDefault();\n    const data = {\n      email,\n      code\n    };\n    console.log(data);\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/verify_email_code.php`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(data)\n      });\n      const result = await response.json();\n      console.log(result);\n      console.log(result[\"status\"]);\n      if (result[\"status\"] === \"success\") {\n        setCodeFieldMessage(String(result[\"message\"]));\n        navigate(`/forgot/reset/${encodeURIComponent(email)}`);\n      } else {\n        setCodeFieldError(String(result[\"message\"]));\n      }\n    } catch (err) {\n      setCodeFieldError(\"Sorry, something went wrong. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"auth-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Forgot Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleClickSend,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Enter your email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Send\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), [emailFieldMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message\",\n          children: emailFieldMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 46\n        }, this), emailFieldError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: emailFieldError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 44\n        }, this)]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleClickVerify,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Verification Code\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter the code sent to your email\",\n          value: code,\n          onChange: e => setCode(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Verify\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), [codeFieldMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message\",\n          children: codeFieldMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 45\n        }, this), codeFieldError && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: codeFieldError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 43\n        }, this)]]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n_s(ForgotPassword, \"jhb2d1fXp1ooBjou6/y0FDMl+sE=\", false, function () {\n  return [useNavigate];\n});\n_c = ForgotPassword;\nexport default ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useNavigate","jsxDEV","_jsxDEV","ForgotPassword","_s","navigate","email","setEmail","useState","emailFieldMessage","setEmailFieldMessage","emailFieldError","setEmailFieldError","code","setCode","codeFieldMessage","setCodeFieldMessage","codeFieldError","setCodeFieldError","handleClickSend","e","preventDefault","data","console","log","response","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","result","json","String","err","handleClickVerify","encodeURIComponent","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/ronzh/OneDrive/Desktop/CSE442/sp25-repo-playboys/frontend/src/login_screens/forgot/forgot.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./forgot.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ForgotPassword: React.FC = () => \r\n{\r\n    const navigate = useNavigate();\r\n\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [emailFieldMessage, setEmailFieldMessage] = React.useState(\"\");\r\n    const [emailFieldError, setEmailFieldError] = React.useState(\"\");\r\n\r\n    const [code, setCode] = React.useState(\"\");\r\n    const [codeFieldMessage, setCodeFieldMessage] = React.useState(\"\");\r\n    const [codeFieldError, setCodeFieldError] = React.useState(\"\");\r\n\r\n    const handleClickSend = async ( e: React.FormEvent ) => \r\n    {\r\n        e.preventDefault();\r\n        const data = { email };\r\n        console.log( data );\r\n\r\n        try\r\n        {\r\n            const response = await fetch( `${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/send_forgot_pwd_email.php`, \r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify( data ),\r\n            })\r\n\r\n            const result = await response.json();\r\n            console.log( result );\r\n            console.log( result[ \"status\" ] );\r\n\r\n            if( result[ \"status\" ] === \"success\" ) \r\n            {\r\n                setEmailFieldMessage( String( result[ \"message\" ] ) );\r\n            }\r\n            else \r\n            {\r\n                setEmailFieldError( String( result[ \"message\" ] ) );\r\n            }\r\n        }\r\n        catch( err: any ) \r\n        {\r\n            setEmailFieldError( \"Sorry, something went wrong. Please try again.\" );\r\n        }\r\n    };\r\n\r\n    const handleClickVerify = async (e: React.FormEvent) => \r\n    {\r\n        e.preventDefault();\r\n        const data = { email, code };\r\n        console.log( data );\r\n\r\n        try\r\n        {\r\n            const response = await fetch( `${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/verify_email_code.php`, \r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify( data ),\r\n            })\r\n\r\n            const result = await response.json();\r\n            console.log( result );\r\n            console.log( result[ \"status\" ] );\r\n\r\n            if( result[ \"status\" ] === \"success\" ) \r\n            {\r\n                setCodeFieldMessage( String( result[\"message\"] ) );\r\n\r\n                navigate( `/forgot/reset/${encodeURIComponent(email)}` );\r\n            }\r\n            else \r\n            {\r\n                setCodeFieldError( String( result[ \"message\" ] ) );\r\n            }\r\n        }\r\n        catch( err: any ) \r\n        {\r\n            setCodeFieldError( \"Sorry, something went wrong. Please try again.\" );\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <div className=\"auth-container\">\r\n            <div className=\"login-box\">\r\n                <h2>Forgot Password</h2>\r\n                <form onSubmit={ handleClickSend }>\r\n                    <label>Email</label>\r\n                    <input type=\"email\" placeholder=\"Enter your email\" value={email} onChange={ ( e ) => setEmail( e.target.value ) }/>\r\n                    <button type=\"submit\">Send</button>\r\n                    {[\r\n                        emailFieldMessage && <p className=\"message\">{ emailFieldMessage }</p>,\r\n                        emailFieldError && <p className=\"error-message\">{ emailFieldError }</p>\r\n                    ]}\r\n                </form>\r\n                <br></br>\r\n                <form onSubmit={ handleClickVerify }>\r\n                    <label>Verification Code</label>\r\n                    <input type=\"text\" placeholder=\"Enter the code sent to your email\" value={code} onChange={ ( e ) => setCode( e.target.value ) }/>\r\n                    <button type=\"submit\">Verify</button>\r\n                    {[ \r\n                        codeFieldMessage && <p className=\"message\">{ codeFieldMessage }</p>,\r\n                        codeFieldError && <p className=\"error-message\">{ codeFieldError }</p>\r\n                    ]}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}