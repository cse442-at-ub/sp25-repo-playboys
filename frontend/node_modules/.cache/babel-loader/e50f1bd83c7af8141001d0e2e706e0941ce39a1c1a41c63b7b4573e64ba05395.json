{"ast":null,"code":"import React from\"react\";import\"./forgot.css\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const navigate=useNavigate();const[email,setEmail]=React.useState(\"\");const[emailFieldMessage,setEmailFieldMessage]=React.useState(\"\");const[emailFieldError,setEmailFieldError]=React.useState(\"\");const[code,setCode]=React.useState(\"\");const[codeFieldMessage,setCodeFieldMessage]=React.useState(\"\");const[codeFieldError,setCodeFieldError]=React.useState(\"\");const handleClickSend=async e=>{e.preventDefault();const data={email};console.log(data);try{const response=await fetch(`${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/send_forgot_pwd_email.php`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});const result=await response.json();console.log(result);console.log(result[\"status\"]);if(result[\"status\"]===\"success\"){setEmailFieldMessage(String(result[\"message\"]));}else{setEmailFieldError(String(result[\"message\"]));}}catch(err){setEmailFieldError(\"Sorry, something went wrong. Please try again.\");}};const handleClickVerify=async e=>{e.preventDefault();const data={email,code};console.log(data);try{const response=await fetch(`${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/verify_email_code.php`,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(data)});const result=await response.json();console.log(result);console.log(result[\"status\"]);if(result[\"status\"]===\"success\"){setCodeFieldMessage(String(result[\"message\"]));navigate(`/forgot/reset/${encodeURIComponent(email)}`);}else{setCodeFieldError(String(result[\"message\"]));}}catch(err){setCodeFieldError(\"Sorry, something went wrong. Please try again.\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Forgot Password\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClickSend,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Enter your email\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"}),[emailFieldMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:emailFieldMessage}),emailFieldError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:emailFieldError})]]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClickVerify,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Verification Code\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter the code sent to your email\",value:code,onChange:e=>setCode(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Verify\"}),[codeFieldMessage&&/*#__PURE__*/_jsx(\"p\",{className:\"message\",children:codeFieldMessage}),codeFieldError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:codeFieldError})]]})]})});};export default ForgotPassword;","map":{"version":3,"names":["React","useNavigate","jsx","_jsx","jsxs","_jsxs","ForgotPassword","navigate","email","setEmail","useState","emailFieldMessage","setEmailFieldMessage","emailFieldError","setEmailFieldError","code","setCode","codeFieldMessage","setCodeFieldMessage","codeFieldError","setCodeFieldError","handleClickSend","e","preventDefault","data","console","log","response","fetch","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","result","json","String","err","handleClickVerify","encodeURIComponent","className","children","onSubmit","type","placeholder","value","onChange","target"],"sources":["C:/Users/ronzh/OneDrive/Desktop/CSE442/sp25-repo-playboys/frontend/src/login_screens/forgot/forgot.tsx"],"sourcesContent":["import React from \"react\";\r\nimport \"./forgot.css\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst ForgotPassword: React.FC = () => \r\n{\r\n    const navigate = useNavigate();\r\n\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [emailFieldMessage, setEmailFieldMessage] = React.useState(\"\");\r\n    const [emailFieldError, setEmailFieldError] = React.useState(\"\");\r\n\r\n    const [code, setCode] = React.useState(\"\");\r\n    const [codeFieldMessage, setCodeFieldMessage] = React.useState(\"\");\r\n    const [codeFieldError, setCodeFieldError] = React.useState(\"\");\r\n\r\n    const handleClickSend = async ( e: React.FormEvent ) => \r\n    {\r\n        e.preventDefault();\r\n        const data = { email };\r\n        console.log( data );\r\n\r\n        try\r\n        {\r\n            const response = await fetch( `${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/send_forgot_pwd_email.php`, \r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify( data ),\r\n            })\r\n\r\n            const result = await response.json();\r\n            console.log( result );\r\n            console.log( result[ \"status\" ] );\r\n\r\n            if( result[ \"status\" ] === \"success\" ) \r\n            {\r\n                setEmailFieldMessage( String( result[ \"message\" ] ) );\r\n            }\r\n            else \r\n            {\r\n                setEmailFieldError( String( result[ \"message\" ] ) );\r\n            }\r\n        }\r\n        catch( err: any ) \r\n        {\r\n            setEmailFieldError( \"Sorry, something went wrong. Please try again.\" );\r\n        }\r\n    };\r\n\r\n    const handleClickVerify = async (e: React.FormEvent) => \r\n    {\r\n        e.preventDefault();\r\n        const data = { email, code };\r\n        console.log( data );\r\n\r\n        try\r\n        {\r\n            const response = await fetch( `${process.env.REACT_APP_API_URL}sp25-repo-playboys/backend/verify_email_code.php`, \r\n            {\r\n                method: \"POST\",\r\n                headers: {\r\n                    \"Content-Type\": \"application/json\",\r\n                },\r\n                body: JSON.stringify( data ),\r\n            })\r\n\r\n            const result = await response.json();\r\n            console.log( result );\r\n            console.log( result[ \"status\" ] );\r\n\r\n            if( result[ \"status\" ] === \"success\" ) \r\n            {\r\n                setCodeFieldMessage( String( result[\"message\"] ) );\r\n\r\n                navigate( `/forgot/reset/${encodeURIComponent(email)}` );\r\n            }\r\n            else \r\n            {\r\n                setCodeFieldError( String( result[ \"message\" ] ) );\r\n            }\r\n        }\r\n        catch( err: any ) \r\n        {\r\n            setCodeFieldError( \"Sorry, something went wrong. Please try again.\" );\r\n        }\r\n    };\r\n    \r\n    return (\r\n        <div className=\"auth-container\">\r\n            <div className=\"login-box\">\r\n                <h2>Forgot Password</h2>\r\n                <form onSubmit={ handleClickSend }>\r\n                    <label>Email</label>\r\n                    <input type=\"email\" placeholder=\"Enter your email\" value={email} onChange={ ( e ) => setEmail( e.target.value ) }/>\r\n                    <button type=\"submit\">Send</button>\r\n                    {[\r\n                        emailFieldMessage && <p className=\"message\">{ emailFieldMessage }</p>,\r\n                        emailFieldError && <p className=\"error-message\">{ emailFieldError }</p>\r\n                    ]}\r\n                </form>\r\n                <br></br>\r\n                <form onSubmit={ handleClickVerify }>\r\n                    <label>Verification Code</label>\r\n                    <input type=\"text\" placeholder=\"Enter the code sent to your email\" value={code} onChange={ ( e ) => setCode( e.target.value ) }/>\r\n                    <button type=\"submit\">Verify</button>\r\n                    {[ \r\n                        codeFieldMessage && <p className=\"message\">{ codeFieldMessage }</p>,\r\n                        codeFieldError && <p className=\"error-message\">{ codeFieldError }</p>\r\n                    ]}\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ForgotPassword;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}