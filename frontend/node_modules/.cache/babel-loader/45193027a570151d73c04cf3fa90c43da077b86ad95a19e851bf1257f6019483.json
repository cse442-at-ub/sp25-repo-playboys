{"ast":null,"code":"var _jsxFileName = \"/Users/camdenbartlo/UB/Sem 4/CSE 442/sp25-repo-playboys/frontend/src/user_profile/ProfileHeader.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ProfileHeader() {\n  _s();\n  const navigate = useNavigate();\n  const [searchParams] = useSearchParams();\n  const user = searchParams.get(\"user\");\n  const [profile, setProfile] = useState(null);\n  const [loggedInUser, setLoggedInUser] = useState(null);\n  const [error, setError] = useState(null);\n  const [friendStatus, setFriendStatus] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [pendingFriends, setPendingFriends] = useState([]);\n  const [showDropdown, setShowDropdown] = useState(false);\n  const fetchProfile = async () => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}backend/getProfile.php?user=${user || \"\"}`, {\n        method: \"GET\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const result = await response.json();\n      if (result.status === \"success\") {\n        setLoggedInUser(result.loggedInUser);\n        setProfile(result.profile);\n        setFriendStatus(result.friendStatus);\n        setPendingFriends(result.pendingFriends || []);\n      } else {\n        setError(result.message);\n        navigate(\"/login\");\n      }\n    } catch (err) {\n      setError(\"Failed to fetch profile data.\");\n      console.error(\"‚ö†Ô∏è Error:\", err);\n    }\n  };\n  useEffect(() => {\n    fetchProfile();\n  }, [user]);\n  const sendFriendRequest = async () => {\n    if (!profile || isLoading) return;\n    setIsLoading(true);\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}backend/addFriends.php`, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          potential_friend: profile.username\n        })\n      });\n      const result = await response.json();\n      if (result.status === \"success\") {\n        setFriendStatus(\"pending\");\n      } else if (result.status === \"retract\") {\n        setFriendStatus(\"none\");\n      } else if (result.status === \"friends\") {\n        setFriendStatus(\"friends\");\n      } else if (result.status === \"error\") {\n        setFriendStatus(\"none\");\n        console.error(\"Error sending request:\", result.message);\n      }\n    } catch (err) {\n      setFriendStatus(\"none\");\n      console.error(\"‚ö†Ô∏è Network error:\", err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const acceptFriendRequest = async friendUsername => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_URL}backend/acceptFriends.php`, {\n        method: \"POST\",\n        credentials: \"include\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          friend: friendUsername,\n          \"choice\": \"accept\"\n        })\n      });\n      const result = await response.json();\n      if (result.status === \"success\") {\n        setPendingFriends(pendingFriends.filter(name => name !== friendUsername)); // Remove from pending list\n\n        // Increase friend count in real-time\n        setProfile(prevProfile => ({\n          ...prevProfile,\n          friends: prevProfile.friends + 1\n        }));\n      } else {\n        console.error(\"Error accepting request:\", result.message);\n      }\n    } catch (err) {\n      console.error(\"‚ö†Ô∏è Network error:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-end mt-3\",\n      children: pendingFriends.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dropdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-outline-primary dropdown-toggle\",\n          type: \"button\",\n          onClick: () => setShowDropdown(!showDropdown),\n          children: [\"Pending Friend Requests (\", pendingFriends.length, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), showDropdown && /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"dropdown-menu show position-absolute\",\n          style: {\n            right: 0\n          },\n          children: pendingFriends.map((friend, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"dropdown-item d-flex justify-content-between align-items-center\",\n            children: [friend, /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success btn-sm\",\n              onClick: () => acceptFriendRequest(friend),\n              children: \"\\u2705 Accept\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 41\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 37\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"./static/ProfilePlaceholder.png\",\n          alt: \"Profile\",\n          className: \"img-fluid rounded-circle mt-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-8\",\n        children: profile ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"display-4\",\n            children: profile.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"mt-3\",\n            children: [\"@\", profile.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"h4 mt-3\",\n            children: [profile.friends, \" Friends \\u2022 \", profile.followers, \" Followers \\u2022 \", profile.followings, \" Following\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 29\n          }, this), profile.username === loggedInUser ? /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-secondary btn-lg mt-4 px-5\",\n            onClick: () => navigate(\"/edit-profile\"),\n            children: \"\\uD83D\\uDD8B\\uFE0F Edit Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 33\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-primary btn-lg mt-4 mx-2\",\n              children: \"\\u2795 Follow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 37\n            }, this), friendStatus === \"none\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success btn-lg mt-4\",\n              onClick: sendFriendRequest,\n              disabled: isLoading,\n              children: \"\\uD83E\\uDD1D Add Friend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 41\n            }, this), friendStatus === \"pending\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning btn-lg mt-4\",\n              onClick: sendFriendRequest,\n              disabled: isLoading,\n              children: \"\\u23F3 Pending Request\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 41\n            }, this), friendStatus === \"friends\" && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-secondary btn-lg mt-4\",\n              disabled: true,\n              children: \"\\u2705 Friends\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger mt-3\",\n          children: error || \"Loading...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 9\n  }, this);\n}\n_s(ProfileHeader, \"I8f+PTKAMo5NqLs3HtlCGdGKzmU=\", false, function () {\n  return [useNavigate, useSearchParams];\n});\n_c = ProfileHeader;\nexport default ProfileHeader;\nvar _c;\n$RefreshReg$(_c, \"ProfileHeader\");","map":{"version":3,"names":["useState","useEffect","useNavigate","useSearchParams","jsxDEV","_jsxDEV","Fragment","_Fragment","ProfileHeader","_s","navigate","searchParams","user","get","profile","setProfile","loggedInUser","setLoggedInUser","error","setError","friendStatus","setFriendStatus","isLoading","setIsLoading","pendingFriends","setPendingFriends","showDropdown","setShowDropdown","fetchProfile","response","fetch","process","env","REACT_APP_API_URL","method","credentials","headers","result","json","status","message","err","console","sendFriendRequest","body","JSON","stringify","potential_friend","username","acceptFriendRequest","friendUsername","friend","filter","name","prevProfile","friends","className","children","length","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","style","right","map","index","src","alt","followers","followings","disabled","_c","$RefreshReg$"],"sources":["/Users/camdenbartlo/UB/Sem 4/CSE 442/sp25-repo-playboys/frontend/src/user_profile/ProfileHeader.tsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\n\nfunction ProfileHeader() {\n    const navigate = useNavigate();\n    const [searchParams] = useSearchParams();\n    const user = searchParams.get(\"user\");\n\n    const [profile, setProfile] = useState<any>(null);\n    const [loggedInUser, setLoggedInUser] = useState<string | null>(null);\n    const [error, setError] = useState<string | null>(null);\n    const [friendStatus, setFriendStatus] = useState<string | null>(null);\n    const [isLoading, setIsLoading] = useState(false);\n    const [pendingFriends, setPendingFriends] = useState<string[]>([]);\n    const [showDropdown, setShowDropdown] = useState(false);\n\n    const fetchProfile = async () => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}backend/getProfile.php?user=${user || \"\"}`, {\n                method: \"GET\",\n                credentials: \"include\",\n                headers: { \"Content-Type\": \"application/json\" },\n            });\n\n            const result = await response.json();\n\n            if (result.status === \"success\") {\n                setLoggedInUser(result.loggedInUser);\n                setProfile(result.profile);\n                setFriendStatus(result.friendStatus);\n                setPendingFriends(result.pendingFriends || []);\n            } else {\n                setError(result.message);\n                navigate(\"/login\");\n            }\n        } catch (err) {\n            setError(\"Failed to fetch profile data.\");\n            console.error(\"‚ö†Ô∏è Error:\", err);\n        }\n    };\n\n    useEffect(() => {\n        fetchProfile();\n    }, [user]);\n\n    const sendFriendRequest = async () => {\n        if (!profile || isLoading) return;\n        setIsLoading(true);\n\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}backend/addFriends.php`, {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ potential_friend: profile.username }),\n            });\n\n            const result = await response.json();\n            if (result.status === \"success\") {\n                setFriendStatus(\"pending\");\n            } else if (result.status === \"retract\") {\n                setFriendStatus(\"none\");\n            } else if (result.status === \"friends\") {\n                setFriendStatus(\"friends\");\n            } else if (result.status === \"error\") {\n                setFriendStatus(\"none\");\n                console.error(\"Error sending request:\", result.message);\n            }\n        } catch (err) {\n            setFriendStatus(\"none\");\n            console.error(\"‚ö†Ô∏è Network error:\", err);\n        } finally {\n            setIsLoading(false);\n        }\n    };\n\n    const acceptFriendRequest = async (friendUsername: string) => {\n        try {\n            const response = await fetch(`${process.env.REACT_APP_API_URL}backend/acceptFriends.php`, {\n                method: \"POST\",\n                credentials: \"include\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify({ friend: friendUsername, \"choice\": \"accept\" }),\n            });\n\n            const result = await response.json();\n            if (result.status === \"success\") {\n                setPendingFriends(pendingFriends.filter(name => name !== friendUsername)); // Remove from pending list\n    \n                // Increase friend count in real-time\n                setProfile((prevProfile: any) => ({\n                    ...prevProfile,\n                    friends: prevProfile.friends + 1,\n                }));\n            }  else {\n                console.error(\"Error accepting request:\", result.message);\n            }\n        } catch (err) {\n            console.error(\"‚ö†Ô∏è Network error:\", err);\n        }\n    };\n\n    return (\n        <div className=\"container\">\n            {/* Dropdown for Pending Friend Requests */}\n            <div className=\"d-flex justify-content-end mt-3\">\n                {pendingFriends.length > 0 && (\n                    <div className=\"dropdown\">\n                        <button \n                            className=\"btn btn-outline-primary dropdown-toggle\" \n                            type=\"button\" \n                            onClick={() => setShowDropdown(!showDropdown)}\n                        >\n                            Pending Friend Requests ({pendingFriends.length})\n                        </button>\n                        {showDropdown && (\n                            <ul className=\"dropdown-menu show position-absolute\" style={{ right: 0 }}>\n                                {pendingFriends.map((friend, index) => (\n                                    <li key={index} className=\"dropdown-item d-flex justify-content-between align-items-center\">\n                                        {friend}\n                                        <button className=\"btn btn-success btn-sm\" onClick={() => acceptFriendRequest(friend)}>\n                                            ‚úÖ Accept\n                                        </button>\n                                    </li>\n                                ))}\n                            </ul>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {/* Profile Header Section */}\n            <div className=\"row mt-4\">\n                <div className=\"col-md-4\">\n                    <img src=\"./static/ProfilePlaceholder.png\" alt=\"Profile\" className=\"img-fluid rounded-circle mt-3\" />\n                </div>\n                <div className=\"col-md-8\">\n                    {profile ? (\n                        <>\n                            <h1 className=\"display-4\">{profile.username}</h1>\n                            <h2 className=\"mt-3\">@{profile.username}</h2>\n                            <p className=\"h4 mt-3\">\n                                {profile.friends} Friends ‚Ä¢ {profile.followers} Followers ‚Ä¢ {profile.followings} Following\n                            </p>\n\n                            {profile.username === loggedInUser ? (\n                                <button className=\"btn btn-secondary btn-lg mt-4 px-5\" onClick={() => navigate(\"/edit-profile\")}>üñãÔ∏è Edit Profile</button>\n                            ) : (\n                                <>\n                                    <button className=\"btn btn-primary btn-lg mt-4 mx-2\">‚ûï Follow</button>\n\n                                    {friendStatus === \"none\" && (\n                                        <button className=\"btn btn-success btn-lg mt-4\" onClick={sendFriendRequest} disabled={isLoading}>\n                                            ü§ù Add Friend\n                                        </button>\n                                    )}\n\n                                    {friendStatus === \"pending\" && (\n                                        <button className=\"btn btn-warning btn-lg mt-4\" onClick={sendFriendRequest} disabled={isLoading}>\n                                            ‚è≥ Pending Request\n                                        </button>\n                                    )}\n\n                                    {friendStatus === \"friends\" && (\n                                        <button className=\"btn btn-secondary btn-lg mt-4\" disabled>\n                                            ‚úÖ Friends\n                                        </button>\n                                    )}\n                                </>\n                            )}\n                        </>\n                    ) : (\n                        <p className=\"text-danger mt-3\">{error || \"Loading...\"}</p>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default ProfileHeader;\n\n\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}